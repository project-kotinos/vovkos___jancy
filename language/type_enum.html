

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Enums &mdash; Jancy Language Manual</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.8.5',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/target-highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-sphinx_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Structs/Unions" href="type_struct.html" />
    <link rel="prev" title="Named Types" href="type_named.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Jancy Language Manual
          

          
          </a>

          
            
            
              <div class="version">
                1.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="language.html">Jancy Language</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="hello_world.html">Hello World</a></li>
<li class="toctree-l2"><a class="reference internal" href="type_primitive.html">Primitive Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="decl_simple.html">Simple Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="decl_advanced.html">Advanced Declarations</a></li>
<li class="toctree-l2"><a class="reference internal" href="decl_curly.html">Curly Initializers</a></li>
<li class="toctree-l2"><a class="reference internal" href="decl_storage.html">Storage Specifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="literals.html">Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="aliases.html">Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="function_redirection.html">Function Redirection</a></li>
<li class="toctree-l2"><a class="reference internal" href="cflow.html">Control Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="prop.html">Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="nspace.html">Namespaces</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="type_named.html">Named Types</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Enums</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#exposed-enums">Exposed Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bitflag-enums">Bitflag Enums</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="type_struct.html">Structs/Unions</a></li>
<li class="toctree-l3"><a class="reference internal" href="type_class.html">Classes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="type_ptr.html">Pointer Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="multicasts.html">Multicasts and Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="reactive.html">Reactive Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="regex_switches.html">Regex Switches</a></li>
<li class="toctree-l2"><a class="reference internal" href="schedulers.html">Schedulers</a></li>
<li class="toctree-l2"><a class="reference internal" href="dynamic_structs.html">Dynamic Structs</a></li>
<li class="toctree-l2"><a class="reference internal" href="dual_modifiers.html">Dual Modifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exception Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="disposable.html">Deterministic Resource Release</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="c_compatibility.html">Compatibility with C</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Jancy Language Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="language.html">Jancy Language</a> &raquo;</li>
        
          <li><a href="type_named.html">Named Types</a> &raquo;</li>
        
      <li>Enums</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="enums">
<h1>Enums</h1>
<p>Jancy brings a couple of enhancements to the enumeration types as we know them in C/C++/Java.</p>
<p>In Jancy, traditional enums conceal member identifiers within their enum namespaces to prevent namespace pollution. Plus, Jancy enums can be derived from an integer type. This comes in handy when declaring fields of protocol headers.</p>
<div class="highlight-jnc notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="n">IcmpType</span><span class="o">:</span> <span class="n">uint8_t</span>
<span class="p">{</span>
    <span class="n">EchoReply</span>               <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">DestinationUnreachable</span>  <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
    <span class="n">SourceQuench</span>            <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">Redirect</span>                <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
    <span class="n">Echo</span>                    <span class="o">=</span> <span class="mi">8</span><span class="p">,</span>
    <span class="n">RouterAdvertisement</span>     <span class="o">=</span> <span class="mi">9</span><span class="p">,</span>
    <span class="n">RouterSelection</span>         <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
    <span class="n">TimeExceeded</span>            <span class="o">=</span> <span class="mi">11</span><span class="p">,</span>
    <span class="n">ParameterProblem</span>        <span class="o">=</span> <span class="mi">12</span><span class="p">,</span>
    <span class="n">TimestampRequest</span>        <span class="o">=</span> <span class="mi">13</span><span class="p">,</span>
    <span class="n">TimestampReply</span>          <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
    <span class="n">InformationRequest</span>      <span class="o">=</span> <span class="mi">15</span><span class="p">,</span>
    <span class="n">InformationReply</span>        <span class="o">=</span> <span class="mi">16</span><span class="p">,</span>
    <span class="n">AddressMaskRequest</span>      <span class="o">=</span> <span class="mi">17</span><span class="p">,</span>
    <span class="n">AddressMaskReply</span>        <span class="o">=</span> <span class="mi">18</span><span class="p">,</span>
    <span class="n">TraceRoute</span>              <span class="o">=</span> <span class="mi">30</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="exposed-enums">
<h2>Exposed Enums</h2>
<p>To simplify porting existing C/C++ code into Jancy we offer an <strong>exposed enum</strong> variation, which behaves like a traditional C/C++ enum, i.e. it exposes the member identifier into the parent namespace.</p>
<div class="highlight-jnc notranslate"><div class="highlight"><pre><span></span><span class="k">exposed</span> <span class="k">enum</span> <span class="n">State</span>
<span class="p">{</span>
    <span class="n">State_Idle</span><span class="p">,</span> <span class="c1">// = 0</span>
    <span class="n">State_Connecting</span><span class="p">,</span>
    <span class="n">State_Connected</span><span class="p">,</span>
    <span class="n">State_Disconnecting</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">foo</span> <span class="p">()</span>
<span class="p">{</span>
    <span class="n">State</span> <span class="n">state</span> <span class="o">=</span> <span class="n">State_Connecting</span><span class="p">;</span> <span class="c1">// State.State_Connecting is also ok</span>
    <span class="n">state</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">// error: cast int-&gt;enum must be explicit</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="bitflag-enums">
<h2>Bitflag Enums</h2>
<p>Jancy also features <strong>bitflag enums</strong>, which are enumerations dedicated to describing a set of bitflags. A bitflag enum differs from a regular enum in the following aspects:</p>
<ul class="simple">
<li>It’s automatic value assignment sequence is <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">4</span></code>, <code class="docutils literal notranslate"><span class="pre">8</span></code>,… thus describing bit positions</li>
<li>Bitwise OR operator <code class="docutils literal notranslate"><span class="pre">|</span></code> on two operands of matching bitflag enum types yields the same bitflag enum type</li>
<li>Bitwise AND operator <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> on bitflag enum and integer yields the same bitflag enum type</li>
<li>It’s OK to assign <code class="docutils literal notranslate"><span class="pre">0</span></code> to a bitflag enum</li>
</ul>
<p>Like Jancy enums, bitflag enums do not pollute the parent namespace.</p>
<div class="highlight-jnc notranslate"><div class="highlight"><pre><span></span><span class="k">bitflag</span> <span class="k">enum</span> <span class="n">OpenFlags</span>
<span class="p">{</span>
    <span class="n">ReadOnly</span><span class="p">,</span>      <span class="c1">// = 0x01</span>
    <span class="n">Exclusive</span>         <span class="o">=</span> <span class="mh">0x20</span><span class="p">,</span>
    <span class="n">DeleteOnClose</span><span class="p">,</span> <span class="c1">// = 0x40</span>
<span class="p">}</span>

<span class="n">foo</span> <span class="p">()</span>
<span class="p">{</span>
    <span class="n">OpenFlags</span> <span class="n">flags</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// 0 is ok to assign to &#39;bitflag enum&#39;</span>

    <span class="n">flags</span> <span class="o">=</span> <span class="n">OpenFlags</span><span class="p">.</span><span class="n">ReadOnly</span> <span class="o">|</span> <span class="n">OpenFlags</span><span class="p">.</span><span class="n">Exclusive</span> <span class="o">|</span> <span class="n">OpenFlags</span><span class="p">.</span><span class="n">DeleteOnClose</span><span class="p">;</span>
    <span class="n">flags</span> <span class="o">&amp;=</span> <span class="o">~</span><span class="n">OpenFlags</span><span class="p">.</span><span class="n">Exclusive</span><span class="p">;</span>
    <span class="n">flags</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span> <span class="c1">// error: cast int-&gt;bitflag enum must be explicit</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="type_struct.html" class="btn btn-neutral float-right" title="Structs/Unions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="type_named.html" class="btn btn-neutral float-left" title="Named Types" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2019, Tibbo Technology Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>