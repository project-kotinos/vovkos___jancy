

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>class sys.Lock &mdash; Jancy Standard Library Reference</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'1.8.5',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/target-highlight.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/doxyrest-sphinx_rtd_theme.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="class sys.NotificationEvent" href="class_sys_NotificationEvent.html" />
    <link rel="prev" title="class sys.Event" href="class_sys_Event.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Jancy Standard Library Reference
          

          
          </a>

          
            
            
              <div class="version">
                1.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="group_g2_crt.html">C Runtime Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_stdlib.html">General Purpose Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_iolib.html">IO (Input/Output) Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_rtl.html">RTL (Runtime Library)</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_g1_typedef.html">Standard Typedefs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="group_syslib.html">System Facilities</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="group_gc.html">Garbage-Collected Heap</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="group_sync.html">Synchronization Facilities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="class_sys_Event.html">class sys.Event</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">class sys.Lock</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="class_sys_NotificationEvent.html">class sys.NotificationEvent</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="group_thread.html">Thread Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_time.html">Time &amp; Timers</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_syslib.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_syslib.html#detailed-documentation">Detailed Documentation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="syncId.html">syncId Model Explanation</a></li>
<li class="toctree-l1"><a class="reference internal" href="disposable.html">Using Disposable Pattern</a></li>
<li class="toctree-l1"><a class="reference internal" href="errorcode.html">errorcode Functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Jancy Standard Library Reference</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="group_syslib.html">System Facilities</a> &raquo;</li>
        
          <li><a href="group_sync.html">Synchronization Facilities</a> &raquo;</li>
        
      <li>class sys.Lock</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-sys-lock">
<span id="doxid-type-sys-lock"></span><span id="index-0"></span><h1>class sys.Lock</h1>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h2>Overview</h2>
<p>This class is used to ensure exclusive access to some shared
resource. <a class="reference internal" href="#details-type-sys-lock"><span class="std std-ref">Moreâ€¦</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block">
<span></span><span class="k">import</span> <span class="s">&quot;sys_Lock.jnc&quot;</span>

<span class="k">class</span> <span class="n">Lock</span>
<span class="p">{</span>
    <span class="c1">// construction</span>

    <span class="doxyrest-code-target target" id="doxid-function-sys-lock-construct">construct</span><span></span><span class="p">();</span>

    <span class="c1">// methods</span>

    <span class="k">void</span> <a class="reference internal" href="#doxid-function-sys-lock-lock"><span class="std std-ref">lock</span></a><span></span><span class="p">();</span>
    <span class="k">void</span> <a class="reference internal" href="#doxid-function-sys-lock-unlock"><span class="std std-ref">unlock</span></a><span></span><span class="p">();</span>
<span class="p">};</span>
</pre>
</div>
<div class="section" id="detailed-documentation">
<span id="details-type-sys-lock"></span><h2>Detailed Documentation</h2>
<p>This class is used to ensure exclusive access to some shared
resource.</p>
<p>Only one thread at a time can <em>acquire</em> the <code class="docutils literal notranslate"><span class="pre">sys.Lock</span></code> object and hence,
get exclusive access to some resource this <code class="docutils literal notranslate"><span class="pre">sys.Lock</span></code> object is being a
guardian of. To do that, a thread calls <code class="docutils literal notranslate"><span class="pre">lock</span></code> method. Once it returns,
the <code class="docutils literal notranslate"><span class="pre">sys.Lock</span></code> object is in <em>locked</em> state and this thread can exclusively
access the associated resource.</p>
<p>Any other thread trying to <em>acquire</em> it will wait until the original thread
<em>releases</em> the lock with <code class="docutils literal notranslate"><span class="pre">unlock</span></code> method.</p>
<p>Code sample:</p>
<div class="highlight-jancy notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="s">&quot;sys_Lock.jnc&quot;</span>

<span class="n">sys</span><span class="p">.</span><span class="n">Lock</span> <span class="n">g_event</span><span class="p">;</span>
<span class="k">int</span> <span class="n">g_resource</span><span class="p">;</span>

<span class="n">thread1</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="n">g_lock</span><span class="p">.</span><span class="n">lock</span><span class="p">();</span>   <span class="c1">// acquire the lock</span>
    <span class="n">g_resource</span><span class="o">++</span><span class="p">;</span>     <span class="c1">// we can safely access the resource now</span>
    <span class="n">g_lock</span><span class="p">.</span><span class="n">unlock</span><span class="p">();</span> <span class="c1">// let others get access, too</span>

    <span class="c1">// continue...</span>
<span class="p">}</span>

<span class="n">thread2</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="n">g_lock</span><span class="p">.</span><span class="n">lock</span><span class="p">();</span>   <span class="c1">// acquire the lock</span>
    <span class="n">g_resource</span><span class="o">--</span><span class="p">;</span>     <span class="c1">// we can safely access the resource now</span>
    <span class="n">g_lock</span><span class="p">.</span><span class="n">unlock</span><span class="p">();</span> <span class="c1">// let others get access, too</span>

    <span class="c1">// continue...</span>
<span class="p">}</span>
</pre></div>
</div>
<p class="rubric">See also:</p>
<p><code class="doxyrest-cref docutils literal notranslate"><a class="reference internal" href="class_sys_Thread.html#doxid-type-sys-thread"><span class="std std-ref"><span class="pre">sys.Thread</span></span></a></code></p>
<div class="section" id="methods">
<h3>Methods</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-function-sys-lock-lock">
<span id="index-1"></span><span></span><span class="k">void</span> <span class="n">lock</span><span class="p">()</span>
</pre>
<p><em>Acquires</em> the lock. If the lock is already acquired by another thread,
the current thread enters the wait queue for the lock. When the lock is
released by other thread(s), the current thread acquires it.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-function-sys-lock-unlock">
<span id="index-2"></span><span></span><span class="k">void</span> <span class="n">unlock</span><span class="p">()</span>
</pre>
<p><em>Releases</em> the lock. If other threads are waiting for the lock at the
moment, the first one in the wait queue <em>acquires</em> the lock.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="class_sys_NotificationEvent.html" class="btn btn-neutral float-right" title="class sys.NotificationEvent" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="class_sys_Event.html" class="btn btn-neutral float-left" title="class sys.Event" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2019, Tibbo Technology Inc

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>